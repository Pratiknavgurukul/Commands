<!DOCTYPE html>
<html>

<head>

	<meta charset="utf-8">
	<!-- <meta http-equiv="refresh" content="5"> -->
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" type="text/css" href="Commands.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"> 
	<link rel="icon" type="image/jpg" href="https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcSFHe5zBwEoicH56rh8mNzx4y1QRE0HbQFGCTRuddwrBw9zSyZz">
	<title>Commands</title>
</head>

<body>
<header class="header-fixed">
	<div class="header-limiter">
		<h1><a href="#">Commands</a></h1>
		<nav>
			<a href="#" class="selected" >Home</a>
			<a href="#">Basic</a>
			<a href="#">Python</a>
			<a href="#">Nodejs</a>
			<a href="#daatabase">Database</a>
		</nav>
	</div>
</header>
<div class="main">
<div class="container">
	<h2>Database</h2>
	<ul id="database">
<li>
<b>Installing Sqlite3 and Mysql : </b>
<pre class="pre-scrollable">
<code class="language-javascript" lang="javascript">
Sqlite
<kbd>sudo npm i sqlite3</kbd>

Mysql
<kbd>sudo apt-get update</kbd>

<kbd>sudo apt install mysql-server -y</kbd>

<kbd>sudo npm install mysql</kbd>

<kbd>sudo mysql -u root -p</kbd>

<b id="arrow">>>> </b>ALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY 'pratik';

</code>
</pre>
</li>

<li>
	<b>Creating Database : </b>
<pre class="pre-scrollable">
<code class="language-javascript">
Sqlite
<b id="arrow">>>> </b>const sqlite3 = require('sqlite3')
<b id="arrow">>>> </b>let db = new sqlite3.Database('database name');
<b id="arrow">>>> </b>db.run('CREATE TABLE langs(name text) .values("Pratik")');

Mysql
<b id="arrow">>>> </b>const mysql = require('mysql');
<b id="arrow">>>> </b>const connection = mysql.createConnection({
  	host: 'localhost',
  	user: 'user',
  	password: 'password',
    });
<b id="arrow">>>> </b>con.connect(function(err) {
    if (err) throw err;
        console.log("Connected!");
        con.query("CREATE DATABASE mydb", function (err, result) {
            if (err) throw err;
            console.log("Database created");
        });
    });
</code>
</pre>
</li>

<li>
	<b>Table : </b>
<pre class="pre-scrollable">
<code class="language-javascript">
<b>Creating table : </b>
Sql query
<b id="arrow">>>> </b>create table users(id int unsigned not null auto_increment primary key, name varchar(255), created_at datetime, updated_at datetime)

Knex query
<b id="arrow">>>> </b>knex.schema.createTable('users', function (table) {
	table.increments();
	table.string('name');
	table.timestamps();
    })
</code>
</pre>
</li>

<li>
<b>Basic queries : </b>
<pre class="pre-scrollable">
<code class="language-javascript">
<b>Select : </b>
Sql query
<b id="arrow">>>> </b>select * from `users`

Knex query
<b id="arrow">>>> </b>knex.select('*').from('users');

<b>Insert : </b>
Sql query
<b id="arrow">>>> </b>insert into `books` (`title`) values ('Slaughterhouse Five')

Knex query
<b id="arrow">>>> </b>knex('books').insert({title: 'Slaughterhouse Five'})

<b>Update : </b>
Sql query
<b id="arrow">>>> </b>update `books` set `title` = 'Slaughterhouse Five'

Knex query
<b id="arrow">>>> </b>knex('books').update('title', 'Slaughterhouse Five')

<b>Where : </b>
Sql query
<b id="arrow">>>> </b>select `id` from `users` where `first_name` = 'Test' and `last_name` = 'User'

Knex query
<b id="arrow">>>> </b>knex('users').where({
	first_name: 'Test',
	last_name:  'User'
    })

<b>Truncate : </b>
Sql query
<b id="arrow">>>> </b>truncate `accounts`

Knex query
<b id="arrow">>>> </b>knex('accounts').truncate()

<b>Join : </b>
Sql query
<b id="arrow">>>> </b>select * from `users` inner join `accounts` on `accounts`.`id` = `users`.`account_id` or `accounts`.`owner_id` = `users`.`id`

Knex query
<b id="arrow">>>> </b>knex('users').join('accounts', function() {
	this.on('accounts.id', '=', 'users.account_id')
    })

<b>Limit and Offset : </b>
Sql query
<b id="arrow">>>> </b>select * from `users` limit 10 offset 30

Knex query
<b id="arrow">>>> </b>knex.select('*').from('users').limit(10).offset(30)

<b>Delete : </b>
Sql query
<b id="arrow">>>> </b>delete from `accounts` where `activated` = false

Knex query
<b id="arrow">>>> </b>knex('accounts').where('activated', false).del()

</code>
</pre>
</li>
</ul>
</div>
</div>
</body>

</html>
